<div class="employee-container card">
  <h2>Employee Management</h2>

  <!-- ✅ Add / Edit Form -->
  <form [formGroup]="form" (ngSubmit)="submit()" class="employee-form">
    <div class="grid">
      <label>Name<input formControlName="name" /></label>
      <label>Monthly Salary<input formControlName="monthlySalary" type="number" /></label>
      <label>Mobile 1<input formControlName="mobile1" /></label>
      <label>Mobile 2<input formControlName="mobile2" /></label>
      <label>Aadhaar<input formControlName="aadhaar" /></label>
      <label>Pan Card<input formControlName="panCard" /></label>
      <label>Role<input formControlName="role" /></label>
      <label>Village<input formControlName="village" /></label>
      <label>Taluka<input formControlName="taluka" /></label>
      <label>District<input formControlName="district" /></label>
      <label>State<input formControlName="state" /></label>
      <label>Factory<input formControlName="factoryName" /></label>
      <label class="full">Address<textarea formControlName="address"></textarea></label>
    </div>

    <div class="actions">
      <button type="submit">{{ isEdit ? 'Update' : 'Add' }}</button>
      <button type="button" (click)="resetForm()" class="secondary" *ngIf="isEdit">Cancel</button>
    </div>
  </form>

  <div *ngIf="message" class="success">{{ message }}</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <hr />

  <!-- ✅ Employee Table -->
  <h3>Employee List</h3>
  <div *ngIf="loading" class="info">Loading...</div>
  <table *ngIf="!loading && employees.length" class="employee-table">
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Mobile</th>
        <th>Salary</th>
        <th>Wallet</th>
        <th>Aadhaar</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let emp of employees; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ emp.name }}</td>
        <td>{{ emp.mobile1 }}</td>
        <td>{{ emp.monthlySalary | number:'1.2-2' }}</td>
        <td>{{ walletBalance(emp.employeeId) | number:'1.2-2' }}</td>
        <td>{{ emp.aadhaar }}</td>
        <td>
          <button (click)="edit(emp)" class="small">Edit</button>
          <button (click)="delete(emp.employeeId)" class="small danger">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!loading && !employees.length" class="info">No employees found.</div>
</div>




