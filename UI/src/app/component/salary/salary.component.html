<div class="salary-container card">
  <h2>Salary Management</h2>

  <!-- ✅ Salary Generate Form -->
  <form [formGroup]="form" (ngSubmit)="generateSalary()" class="generate-form">
    <div class="form-group">
      <label>Employee ID</label>
      <input type="number" formControlName="employeeId" placeholder="Enter Employee ID" />
    </div>

    <div class="form-group">
      <label>Start Date</label>
      <input type="date" formControlName="startDate" />
    </div>

    <div class="form-group">
      <label>End Date</label>
      <input type="date" formControlName="endDate" />
    </div>

    <button type="submit" [disabled]="submitting">Generate Salary</button>
  </form>

  <div *ngIf="message" class="success">{{ message }}</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <hr />

  <!-- ✅ Salary List -->
  <div class="salary-list">
    <h3>Salary Transactions</h3>

    <div *ngIf="loading" class="info">Loading...</div>
    <table *ngIf="!loading && salaries.length" class="salary-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Emp ID</th>
          <th>Start</th>
          <th>End</th>
          <th>Present</th>
          <th>Half</th>
          <th>Total</th>
          <th>Advance</th>
          <th>Final</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let s of salaries; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ s.employeeId }}</td>
          <td>{{ s.startDate | date }}</td>
          <td>{{ s.endDate | date }}</td>
          <td>{{ s.presentDays }}</td>
          <td>{{ s.halfDays }}</td>
          <td>{{ s.totalSalary | number:'1.2-2' }}</td>
          <td>{{ s.advanceDeducted | number:'1.2-2' }}</td>
          <td>{{ s.finalSalary | number:'1.2-2' }}</td>
          <td>{{ s.date | date:'short' }}</td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="!loading && !salaries.length" class="info">
      No salary transactions found.
    </div>
  </div>
</div>


