"use strict";(self.webpackChunkFE_MS=self.webpackChunkFE_MS||[]).push([[641],{8641:(v,d,r)=>{r.r(d),r.d(d,{SalaryModule:()=>C});var c=r(6895),u=r(5479),e=r(8274),g=r(7359),l=r(4006);const m=function(o,t){return{"badge bg-success":o,"badge bg-danger":t}};function h(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"number"),e.qZA(),e.TgZ(10,"td",11),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td")(14,"span",12),e._uU(15),e.qZA()(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td")(19,"button",13),e.NdJ("click",function(){const i=e.CHM(n).$implicit,p=e.oxw();return e.KtG(p.openSalaryPopup(i))}),e.TgZ(20,"span",3),e._uU(21,"edit"),e.qZA()()()()}if(2&o){const n=t.$implicit;e.xp6(2),e.Oqu(n.id),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.designation),e.xp6(2),e.hij("\u20b9",e.lcZ(9,8,n.salary),""),e.xp6(3),e.hij("\u20b9",e.lcZ(12,10,n.advance),""),e.xp6(3),e.Q6J("ngClass",e.WLB(12,m,"Paid"===n.status,"Pending"===n.status)),e.xp6(1),e.hij(" ",n.status," "),e.xp6(2),e.hij("\u20b9",n.salary-n.advance,"")}}function y(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"p")(2,"strong"),e._uU(3),e.qZA()(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"div",20)(7,"label"),e._uU(8,"Salary:"),e.qZA(),e.TgZ(9,"input",21),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw(2);return e.KtG(i.selectedEmployee.salary=a)}),e.qZA()(),e.TgZ(10,"div",20)(11,"label"),e._uU(12,"Advance:"),e.qZA(),e.TgZ(13,"input",21),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw(2);return e.KtG(i.selectedEmployee.advance=a)}),e.qZA()(),e.TgZ(14,"p")(15,"strong"),e._uU(16),e.qZA()(),e.TgZ(17,"p"),e._uU(18),e.qZA()()}if(2&o){const n=e.oxw(2);e.xp6(3),e.Oqu(n.selectedEmployee.name),e.xp6(2),e.hij("Designation: ",n.selectedEmployee.designation,""),e.xp6(4),e.Q6J("ngModel",n.selectedEmployee.salary),e.xp6(4),e.Q6J("ngModel",n.selectedEmployee.advance),e.xp6(3),e.hij("Net Payable: \u20b9",n.selectedEmployee.salary-n.selectedEmployee.advance,""),e.xp6(2),e.hij("Status: ",n.selectedEmployee.status,"")}}function _(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"h5"),e._uU(3,"Manage Salary"),e.qZA(),e.YNc(4,y,19,6,"div",16),e.TgZ(5,"div",17)(6,"button",18),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.closeSalaryPopup())}),e._uU(7," Close "),e.qZA(),e.TgZ(8,"button",19),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.saveSalaryChanges())}),e._uU(9," Save "),e.qZA()()()()}if(2&o){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.selectedEmployee)}}const f=[{path:"",component:(()=>{const t=class{constructor(s){this.toastr=s,this.employees=[],this.selectedEmployee=null,this.isSalaryPopupOpen=!1,this.searchText="",this.currentUserRole="Manager",this.filteredEmployees=[],this.isSearchFocused=!1}ngOnInit(){this.employees=[{id:1,name:"John Smith",designation:"Supervisor",status:"Paid",salary:45e3,advance:5e3},{id:2,name:"Sarah Johnson",designation:"Manager",status:"Pending",salary:6e4,advance:0},{id:3,name:"Mike Brown",designation:"Driver",status:"Pending",salary:25e3,advance:2e3},{id:4,name:"Priya Desai",designation:"Worker",status:"Paid",salary:18e3,advance:0},{id:5,name:"Ramesh Patil",designation:"Supervisor",status:"Pending",salary:42e3,advance:1e3},{id:6,name:"Asha More",designation:"Worker",status:"Paid",salary:2e4,advance:0},{id:7,name:"Vikram Rao",designation:"Driver",status:"Pending",salary:27e3,advance:1500},{id:8,name:"Sita Kulkarni",designation:"Manager",status:"Paid",salary:58e3,advance:0}],this.filteredEmployees=[...this.employees]}get pendingCount(){return this.employees.filter(s=>"Pending"===s.status||null===s.status).length}openSalaryPopup(s){"Manager"===this.currentUserRole?(this.selectedEmployee={...s},this.isSalaryPopupOpen=!0):this.toastr.error("Only Managers can modify salary")}closeSalaryPopup(){this.isSalaryPopupOpen=!1,this.selectedEmployee=null}saveSalaryChanges(){if(!this.selectedEmployee)return;const s=this.employees.findIndex(a=>a.id===this.selectedEmployee.id);-1!==s&&(this.employees[s]={...this.selectedEmployee,status:"Paid"},this.toastr.success(`${this.selectedEmployee.name}'s salary updated and marked as Paid`),this.closeSalaryPopup())}trackByEmployee(s,a){return a.id}filterEmployees(){const s=this.searchText.toLowerCase();this.filteredEmployees=this.employees.filter(a=>a.name.toLowerCase().includes(s)||a.designation.toLowerCase().includes(s)||a.status?.toLowerCase().includes(s))}};let o=t;return t.\u0275fac=function(a){return new(a||t)(e.Y36(g._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-salary"]],decls:33,vars:5,consts:[[1,"mt-4"],[1,"input-group","input-group-sm"],["id","search-addon",1,"input-group-text"],[1,"material-symbols-outlined"],["type","text","placeholder","Search employees...","aria-label","Search","aria-describedby","search-addon",1,"form-control",3,"ngModel","ngModelChange","input","focus","blur"],[1,"table-responsive","mt-2"],[1,"table","table-striped","table-bordered","table-sm"],[1,"table-light"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"alert","alert-info","p-2","small","mt-2"],["class","custom-popup",4,"ngIf"],[1,"text-warning"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"custom-popup"],[1,"custom-popup-content"],[4,"ngIf"],[1,"d-flex","justify-content-end","gap-2","mt-3"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"mb-2"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"span",3),e._uU(4,"search"),e.qZA()(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(T){return i.searchText=T})("input",function(){return i.filterEmployees()})("focus",function(){return i.isSearchFocused=!0})("blur",function(){return i.isSearchFocused=!1}),e.qZA()()(),e.TgZ(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th"),e._uU(11,"Sr No"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Name"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Designation"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Salary"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Advance"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Status"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Net Payable"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Action"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,h,22,15,"tr",8),e.qZA()()(),e.TgZ(28,"div",9),e._uU(29," Pending Salaries: "),e.TgZ(30,"strong"),e._uU(31),e.qZA()(),e.YNc(32,_,10,1,"div",10)),2&a&&(e.xp6(5),e.Q6J("ngModel",i.searchText),e.xp6(22),e.Q6J("ngForOf",i.filteredEmployees)("ngForTrackBy",i.trackByEmployee),e.xp6(4),e.Oqu(i.pendingCount),e.xp6(1),e.Q6J("ngIf",i.isSalaryPopupOpen))},dependencies:[c.mk,c.sg,c.O5,l.Fj,l.wV,l.JJ,l.On,c.JJ],styles:[".custom-popup[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:1050}.custom-popup-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;width:90%;max-width:400px}@media (max-width: 576px){.custom-popup-content[_ngcontent-%COMP%]{width:95%;max-width:320px;padding:15px}.custom-popup-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}.custom-popup-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 10px}.alert-info[_ngcontent-%COMP%]{font-size:.85rem;padding:8px;text-align:center}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:.8rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.85rem}}.input-group-text[_ngcontent-%COMP%]{background-color:#f0f0f0}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-left:0}@media (max-width: 576px){.highlight-first-three[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(-n+3){background-color:#ffeeba;transition:background-color .3s}}"]}),o})()}];let Z=(()=>{const t=class{};let o=t;return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(f),u.Bz]}),o})();var x=r(4032);let C=(()=>{const t=class{};let o=t;return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,Z,x.aw,l.u5,l.UX]}),o})()}}]);